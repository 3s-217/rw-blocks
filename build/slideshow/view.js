(()=>{"undefined"==typeof _ui&&(_ui={});const t={h:"100%",w:"100%",gu:1,th:["loop-js","loop","once","ftbk"],dot:"div",lp:0,an:0,dur:5e3,css:{slideSection:{},slidesArea:{},slide:{},slideContent:{},slideCtrl:{},slideMv:{},next:{},prev:{},slideDots:{},slideDot:{}},nxt:"<",prv:">",act:{f:"done",a:"act",r:"bk"}},{utils:{type:e},log:s}=__o;class i{static len=0;static shows=[];#t=0;#e=0;get astop(){return this.#t}constructor(e,s){this.rt=e,this.idx=s;let n=_c(e);this.attr=n.nattr(["sldcf","theme","anima","tm","lp","control","class"]),function(e){var s;const{attr:i,rt:n}=e;e.cf=i.sldcf&&null!==(s=_c(i.sldcf).json("p"))&&void 0!==s?s:{};let o=["h","w","css"];for(let[s,i]of Object.entries(t))Object.hasOwn(e.cf,s)||o.includes(s)||(e.cf[s]=i);i.tm&&n.style.setProperty("--sld-da",i.tm+"s")}(this);let o=this.attr;const l=i.shows.findIndex((t=>t.rt.isSameNode(e)));if(-1!==l){i.shows.splice(l,1);for(let t=l;t<i.shows.length;t++)i.shows[t].idx=t}i.shows.push(this);const c=_c(e).qy(".slide").gt?.parentNode,d=c?.children;d&&!this.cur&&(this.cur={idx:0,el:_c(d[0]).class("add","act").gt}),c.sbx=this,this.sld=d;for(let t=0;t<d.length;t++)_ui.obs?.observe(d[t]);this.dot=n.qy(".slide-dots").gt,(o.control||__o.utils.type(o?.control,"str"))&&this.cf.gu&&(!__o.utils.type(o?.control,"emp")||(o.control=!0),["next","prev"].forEach((t=>{let s=_c(e).qy("."+t);s.gt.children.length&&s.on("click",this[t].bind(this))})),this.dots(),_c(this.dot).on("click",this.#s.bind(this))),function(t){const{attr:{theme:e,lp:s,class:i,tm:n},sld:o,rt:l}=t,c=i.split(" "),d=t=>c.includes(t);d("inf-h")?function(){const e=o[0].parentNode;if(e.scrollLeft<=_o.hw().w){let t=[];for(let e of o)t.push(e.cloneNode(!0));if(1==t.length)for(let e=0;e<5;e++)t.push(t[0].cloneNode(!0));e.append(...t)}!function(t,e,s="--sld-dml"){const{left:i}=_c(e).rect,n=_c(t).gcs(null,"marginLeft"),o=i-((parseInt(n)||0)+1)-17;t.parentNode.style.setProperty(s,`-${Math.abs(o)}px`)}(o[0],o[1]),t.anima(1)}():d("inf-v")?t.anima(1):d("flex-h")?_c(o[0].parentNode).on("click",(e=>{if(__o.log(e),e.target.isSameNode(o[0].parentNode))return;let s=_c(e.target).qyp(".slide"),i=Array.from(o).findIndex((t=>t.isSameNode(s.gt)));s.gt.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"}),__o.log(i,t.goto(i))})):d("flex-v")||d("sim-dots")||d("abs")||d("s-inline")&&function(){for(let t=0;t<o.length;t++){let e=_c(o[t].children.length?o[t].children[0]:o[t]);o[t].tgt=e.gt,o[t].__txt=e.txt()}t.attr.lp=1;const e=()=>{t.next(),s({el:t.cur.el,fr:n?1e3*n:n,rv:n?1e3*n/2:n,end:e.bind(this)})};function s({el:e,fr:s,rv:i,end:n}){e&&!t.astop&&(e.tgt.textContent="",r({el:e.tgt,str:e.__txt,dur:null!=s?s:200,async cb(){await __o.utils.Time.delay(1),r({el:e.tgt,dir:1,str:e.__txt,dur:null!=i?i:100,cb:n})}}))}s({el:t.cur.el,fr:n?1e3*n:n,rv:n?1e3*n/2:n,end:e.bind(this)})}()}(this),o.class.includes("s-inline")}next(t){const{cur:{idx:s},sld:i,attr:{lp:n},idx:o}=this;if(s==i.length-1&&e(n,"unu"))return this.#e?this.anima():0;this.goto(s<i.length-1?s+1:0)}prev(){const{cur:{idx:t},sld:s,attr:{lp:i}}=this;if(!t&&e(i,"unu"))return this.#e?this.anima():0;this.goto(t?t-1:s.length-1)}goto(t,e){const{sld:s,cur:{el:i},cf:{act:n}}=this,o=Array.from(s).findIndex((t=>t.isSameNode(i)));if(o!=(t=parseInt(t))&&t>-1&&t<s.length){const e=this.cur={el:s[t],idx:t},l=this.#i,r=o>=t+1&&s.length-1>=t+1;o>t&&_c(i).class("add",n.r);for(let e=0;e<t;e++)_c(s[e]).class().contains("done")||l(e,{add:n.f,remove:[n.a,n.r]});let c;l(t,c={add:[n.a,r?n.r:0].filter((t=>t)),remove:[n.f,r?0:n.r].filter((t=>t))});for(let i=t+1;i<s.length;i++)s[i].isSameNode(e.el)||l(i,{remove:[n.a,n.f,r?0:n.r].filter((t=>t))})}}#s(t){const e=t.target,s=t=>e.classList.contains(t);if(!s("dot"))return;if(s("act"))return;const i=this.dot.children;for(let t=0;t<i.length;t++)if(i[t]==e)return this.goto(t)}static init(){const t=_c(document).all(".rw-blocks-slideshow");i.len=t.length;for(let e=0;e<t.length;e++)new i(t[e],e)}anima(t,e){const{attr:{theme:s},sld:i}=this;if(/(icon|(inf-[hv]))/.test(s))t?(_c(i[0].parentNode).on("transitionend",l).on("animationend",l),this.goto(0)):this.#t=1;else{if(this.#e&&(clearInterval(this.#e),this.#e=null),!t)return;this.#e=setInterval(this.next.bind(this),this.tm=e)}}#i=o.bind(this);dots(){const{dot:{children:t},sld:e}=this,s=__o.mknode(__o.mkEl(".dot",{})),i="length",n=t=>t[i];if(e){if(n(t)<n(e))this.dot.append(...Array.from({[i]:n(e)-n(t)},(()=>s.cloneNode())));else if(n(t)>n(e))for(let s=n(e);s<n(t);s++)t[s].remove();for(let s=0;s<n(e);s++)_c(e[s]).class().contains("act")&&(this.cur={idx:s,el:e[s]},_c(t[s]).class("add","act"));this.cur||(this.cur={idx:0,el:e[0]},this.#i(0,{add:"act"}))}}}class n extends HTMLElement{static count=-1;constructor(){super()}connectedCallback(){n.count++,this.idx=n.count,!this.dataset.type&&this.children[0]?.children?.length&&(this.sbx=new i(this,this.idx)),_ui.obs&&_ui.obs.observe(this)}disconnectedCallback(){n.count--,_ui.obs&&_ui.obs.unobserve(this)}static get observedAttributes(){return["sldcf","theme","anima","tm","lp","control"]}attributeChangedCallback(t,e,s){__o.log(t,e,s)}idx=1}function o(t,e){const{sld:s,dot:{children:i},attr:{control:n}}=this;[s,n?i:0].reduce(((s,i)=>(s&&i&&s._(i[t]).class(e),s)),_c())}function l(t){let e=t.target;if(!e.classList.contains("slide"))return;const{attr:s,astop:i,cur:n,sld:o,ani:r}=this.sbx;var c;"inf-h"==s.theme?__o.reqAnima((()=>{_c(e).class("remove","act"),setTimeout((()=>{e.parentNode.append(e),i?["transi","anima"].forEach((t=>_c(e.parentNode).off(t+"tionend",l))):this.sbx.goto(0)}))})):(!i&&"margin-top"==t.propertyName&&(c=this.sbx[n.idx==o.length-1?"goto":"next"]),c&&setTimeout(c.bind(this.sbx,0),1e3*t.elapsedTime))}function r(t){const{el:s,str:i,dur:n,dir:o=0,cb:l}=t,r="textContent";let c=0===o?0:i.length;const d=()=>{if(0===o&&c<i.length)s[r]+=i.charAt(c),c++;else{if(!(1===o&&c>0))return e(l,"fn")&&l(),0;s[r]=i.substring(0,c-1),c--}setTimeout(d,n)};d()}customElements.define("s-bx",n),_ui.slideBox=i})();