(()=>{"undefined"==typeof _ui&&(_ui={});const t={h:"100%",w:"100%",gu:1,th:["loop-js","loop","once","ftbk"],dot:"div",lp:0,an:0,dur:5e3,css:{slideSection:{},slidesArea:{},slide:{},slideContent:{},slideCtrl:{},slideMv:{},next:{},prev:{},slideDots:{},slideDot:{}},nxt:"<",prv:">",act:{f:"done",a:"act",r:"bk"}},{utils:{type:s},log:e}=__o;class i{static len=0;static shows={};#t=0;#s=0;get astop(){return this.#t}constructor(s,e){this.rt=s,this.idx=e;let o=_c(s);this.attr=o.nattr(["sldcf","theme","anima","tm","lp","control","class"]),function(s){var e;const{attr:i,rt:n}=s;s.cf=i.sldcf&&null!==(e=_c(i.sldcf).json("p"))&&void 0!==e?e:{};let o=["h","w","css"];for(let[e,i]of Object.entries(t))Object.hasOwn(s.cf,e)||o.includes(e)||(s.cf[e]=i)}(this);let c=this.attr;i.shows[e]&&!i.shows[e]?.rt.isSameNode(s)&&(this.anima(!1),delete i.shows[e]),i.shows[e]=this,c.tm&&s.style.setProperty("--sld-da",c.tm+"s");const r=_c(s).qy(".slide").gt?.parentNode,a=r?.children;if(a&&!this.cur&&(this.cur={idx:0,el:a[0]},_c(a[0]).class("add","act"),this.Anima={a:n(a[0])}),r.sbx=this,this.sld=a,this.dot=o.qy(".slide-dots").gt,(c.control||__o.utils.type(c?.control,"str"))&&this.cf.gu&&(!__o.utils.type(c?.control,"emp")||(c.control=!0),["next","prev"].forEach((t=>{let e=_c(s).qy("."+t);e.gt.children.length&&e.on("click",this[t].bind(this))})),this.dots(),_c(this.dot).on("click",this.#e.bind(this))),c.class=c.class.split(" "),c.class.includes("inf-h")||c.class.includes("inf-v")){if(c.theme=c.class.filter((t=>l("inf-[vh]",t)))[0],l("inf-h",c.theme)){if(r.scrollLeft<=_o.hw().w){let t=[];for(let s of a)t.push(s.cloneNode(!0));1==t.length&&t.push(t[0].cloneNode(!0)),r.append(...t)}!function(t,s,e="--sld-dml"){const{left:i}=_c(s).rect,n=_c(t).gcs(null,"marginLeft"),o=i-(parseFloat(n)||0)-40;t.parentNode.style.setProperty(e,`-${o}px`)}(a[0],a[1])}this.anima(1)}}next(t){const{cur:{idx:s},sld:e,attr:{lp:i},idx:n}=this;if(s==e.length-1&&__o.utils.type(i,"unu"))return this.#s?this.anima():0;this.goto(s<e.length-1?s+1:0)}prev(){const{cur:{idx:t},sld:s,attr:{lp:e}}=this;if(!t&&__o.utils.type(e,"unu"))return this.#s?this.anima():0;this.goto(t?t-1:s.length-1)}goto(t){const{sld:s,cur:{el:i},cf:{act:n}}=this,o=Array.from(s).findIndex((t=>t.isSameNode(i)));if(o!=(t=parseInt(t))&&t>-1&&t<s.length){const l=this.cur={el:s[t],idx:t},c=this.#i.bind(this),r=o>=t+1&&s.length-1>=t+1;o>t&&_c(i).class("add",n.r);for(let e=0;e<t;e++)_c(s[e]).class().contains("done")||c(e,{add:n.f,remove:[n.a,n.r]});let a={add:[n.a,r?n.r:0].filter((t=>t)),remove:[n.f,r?0:n.r].filter((t=>t))};e(o,t),c(t,a);for(let e=t+1;e<s.length;e++)s[e].isSameNode(l.el)||c(e,{remove:[n.a,n.f,r?0:n.r].filter((t=>t))})}}#e(t){const s=t.target,e=t=>s.classList.contains(t);if(!e("dot"))return;if(e("act"))return;const i=this.dot.children;for(let t=0;t<i.length;t++)if(i[t]==s)return this.goto(t)}static init(){const t=_c(document).all(".rw-blocks-slideshow");i.len=t.length;for(let s=0;s<t.length;s++)new i(t[s],s)}anima(t,s){const{attr:{theme:e},sld:i}=this;if(/(icon|(inf-[hv]))/.test(e))t?(_c(i[0].parentNode).on("transitionend",c),this.goto(1)):this.#t=1;else{if(this.#s&&(clearInterval(this.#s),this.#s=null),!t)return;this.#s=setInterval(this.next.bind(this),this.tm=s)}}#i=o.bind(this);dots(){const{dot:{children:t},sld:s}=this,e=__o.mknode(__o.mkEl(".dot",{})),i="length",n=t=>t[i];if(s){if(n(t)<n(s))this.dot.append(...Array.from({[i]:n(s)-n(t)},(()=>e.cloneNode())));else if(n(t)>n(s))for(let e=n(s);e<n(t);e++)t[e].remove();for(let e=0;e<n(s);e++)_c(s[e]).class().contains("act")&&(this.cur={idx:e,el:s[e]},_c(t[e]).class("add","act"));this.cur||(this.cur={idx:0,el:s[0]},this.#i(0,{add:"act"}))}}}function n(t){const e=s,i=e(t,"inst",__o)?t:_c(t),[n,o]=["anima","transi"].map((t=>i.gcs(null,t+"tion")));return{anima:!e(n,"emp"),trans:!e(o,"emp")}}function o(t,s){const{sld:e,dot:{children:i},attr:{control:n}}=this,o=_c(e[t]).class(s);n&&o._(i[t]).class(s)}function l(t,s){return new RegExp(`^(${t})$`).test(s)}function c(t){let s=t.target;if(!s.classList.contains("slide"))return;const{attr:e,astop:i,cur:n,sld:o,ani:l}=this.sbx;var r;"inf-h"==e.theme?(s.parentNode.append(s),_c(s).class("remove","done"),i?_c(this).off("transitionend",c):this.sbx.goto(1)):(!i&&"margin-top"==t.propertyName&&(r=this.sbx[n.idx==o.length-1?"goto":"next"]),r&&setTimeout(r.bind(this.sbx,0),1e3*t.elapsedTime))}_c(document).on("DOMContentLoaded",i.init),_ui.slideBox=i})();